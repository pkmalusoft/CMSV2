@model CMSV2.Models.MCDatePicker
@{
    Layout = null;
}

<style>
#invoicesearch .row .col-md-1 {
    width: 12%;
} 
#FormDate{
    border-radius:10px;
}
.searchMc{
    border: 1px solid #ccc;
    position: relative;
    padding: 5px 10px;
}
.searchMc h4{
    padding: 0 30px;
    position: ABSOLUTE;
    top: -21px;
    display: inline-block;
    left: 22px;
    background: #f8fbff;
    text-align: center;
}
.abselem{
    position: absolute;
    top:-25px;
    padding-bottom: 5px;
}
</style>

<script>
    function optionchange() {
        if ($('#chkDateWise').prop('checked') == true) {
            $('#FromDate1').removeAttr('readonly');
            $('#ToDate1').removeAttr('readonly');
            $('#AWBNo').attr('readonly', 'readonly');
            $('#Shipper').removeAttr('readonly');
            $('#SearchOption').val('Date');
        }
        else if ($('#chkAWBWise').prop('checked') == true) {
            $('#FromDate1').attr('readonly', 'readonly');
            $('#ToDate1').attr('readonly', 'readonly');
            $('#AWBNo').removeAttr('readonly');
            $('#Shipper').attr('readonly', 'readonly');
            $('#SearchOption').val('AWBNo');
        }
        else {
            $('#FromDate1').attr('readonly', 'readonly');
            $('#ToDate1').attr('readonly', 'readonly');
            $('#AWBNo').attr('readonly', 'readonly');
            $('#Shipper').removeAttr('readonly');
            $('#SearchOption').val('Shipper');

        }
    }
     var customernames = [];
    $(document).ready(function () {
        if ($('#SearchOption').val() == 'Date') {
          $('#chkDateWise').prop('checked',true)
        }
        else if ($('#SearchOption').val() == 'AWBNo') {
            $('#chkAWBWise').prop('checked', true)
        }
        else if ($('#SearchOption').val() == 'Shipper') {
            $('#chkShipperWise').prop('checked', true)
        }

        $(document).ready(function () {
            $("#Shipper").autocomplete({
                source: function (request, response) {
                    $.ajax({
                        url: '/AWB/GetShipperName',
                        datatype: "json",
                        data: {
                            term: request.term
                        },
                        success: function (data) {
                            response($.map(data, function (val, item) {
                                return {
                                    label: val.ShipperName,
                                    value: val.ShipperName,
                                    AcHeadID: val.AcHeadID,
                                    ContactPerson: val.ContactPerson,
                                    Address1: val.Address1,
                                    Address2: val.Address2,
                                    Pincode: val.PinCode,
                                    Phone: val.Phone,
                                    CountryName: val.CountryName,
                                    CityName: val.CityName,
                                    LocationName: val.LocationName,
                                    ConsignorMobileNo: val.ConsignorMobileNo

                                }
                            }))
                        }
                    })
                },
                minLength: 1,
                autoFocus: false,
                focus: function (event, i) {
                    $('#Shipper').val(i.item.value);
                    $('#ShipperName').val(i.item.value);
                    $("#ShipperAddress").val(i.item.CountryName);

                },
                select: function (e, i) {
                    e.preventDefault();
                    $("#ShipperName").val(i.item.label);
                    $('#ShipperName').val(i.item.value);
                    $("#ShipperAddress").val(i.item.CountryName);
                },

            });
        });
        $('#btnsearch').click(function () {           
          
        
        })
       
    });        

</script>
@using (Html.BeginForm("MCAWBSearch", "MCManagement", FormMethod.Post, new { @id = "awbsearch" }))
{
    @Html.AntiForgeryToken()


    @Html.ValidationSummary(true, "", new { @class = "text-danger" })

    
<div class="row no-margin searchMc ">
    <h4>Options</h4>
    <div class="col-md-12 datefilters" style="padding-top:15px;">

        <div class="col-md-7 field ">
            <div class="col-md-3">
                <label class="headinglabel"><input type="radio" id="chkDateWise" name="search1" onclick="optionchange()" checked />AWB From Date</label>
                @Html.TextBoxFor(model => model.FromDate1, new { @class = "form-control text-right" })
            </div>
            <div class="col-md-3">
                <label class="headinglabel">To Date</label>
                @Html.TextBoxFor(model => model.ToDate1, new { @class = "form-control text-right" })
            </div>
            <div class="col-md-6">
                <label class="headinglabel">Shipper/Consignor</label>
                @Html.TextBoxFor(model => model.Shipper, new { @class = "form-control" })
                @Html.HiddenFor(model => model.SearchOption, new { @class = "form-control" })
                @Html.HiddenFor(model => model.ShipperAddress, new { @class = "form-control" })
            </div>
        </div>
        <div class="col-md-4 field">

            <label class="headinglabel"><input type="radio" id="chkAWBWise" name="search1" onclick="optionchange()" />Airway Bill</label>

            <div>
                @Html.TextBoxFor(model => model.AWBNo, new { @class = "form-control", @readonly = "readonly" })
            </div>
        </div>




        <div class="col-md-1 text-right">
            <button class="btn btn-primary" type="submit" id="btnsearch" style="margin-top:30px;width: 60px!Important;min-width: 50px!important;"><i class="fa fa-refresh" aria-hidden="true"></i></button>
        </div>



    </div>
 
    
</div>
   
}


